# 一文教你如何安装 Gitlab

**Gitlab** 是一个开源的分布式版本控制系统，由 **ruby** 开发，用于管理项目源代码、版本控制等等。

有些公司会选择自己安装 **Gitlab** 来托管公司项目的代码而不使用现成的托管平台，如 **[github](https://github.com/)**，**[coding](https://coding.net/)**，**[码云](https://gitee.com/)** 等等

本文主要介绍 **如何在 cenos7 系统上安装 Gitlab**。

## 获取安装包：
这里介绍一个 **Gitlab镜像** 网站：[清华大学的 gitlab 镜像](https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/) ，手动感谢清华大学！

因为我这边使用的系统是 Centos7 所以打开上述地址之后，选择路径为：**yum --> el7 --> gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm**。

这里对于上述路径的选择稍微解释一下：进入 **yum/** 目录之后会有三个选项分别是 **el6、el7、el8**，它们分别代表了 **Centos6、Centos7、Centos8**，因为我这边使用的系统是 **Centos7** 所以选择了 **el7**。如何查看当前 Centos 的版本可以使用如下命令：
```shell
cat /etc/redhat-release
```
至于为什么选择 **gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm** 版本是因为后续需要做汉化处理，而目前汉化包支持的最新版本是 **12-3**，所以这边选择了上述版本。

下载上述 **rpm包** 有两种方式：

1. 下载到本地，然后通过 **ssh工具** 传到服务上。[点我下载](https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm)

2. 使用如下命令，直接在服务器上下载：

```shell
> wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm
```

## 安装：
首先安装一些服务：
```shell
> yum install curl openssh-server openssh-clients postfix cronie
```
接着开启 **postfix服务**，gitlab 是使用 postfix 来发送邮件的：
```shell
> service postfix start
```
执行上述命令的过程可能会发生如下错误：
```
fatal: parameter inet_interfaces: no local interface found for ::1
```
解决方案很简单，修改 postfix 的配置文件，重新执行开启命令：
```shell
> vim /etc/postfix/main.cf

将
    inet_interfaces = localhost
修改为
    inet_interfaces = all
保存退出

> service postfix start
```
顺利启动 postfix服务 之后我们还需要将其设置为开机启动：
```shell
chkconfig postfix on
```
最后安装 gitlab，安装方式如下：

```shell
rpm -i gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm
```

安装过程可能有点慢，当出现如下输出时则表示安装成功：

![23_35_38__07_23_2020](media/15945359329507/23_35_38__07_23_2020.jpg)


## 修改配置

* 支持导出为图片、HTML、Epub、PDF、RTF、Docx。
* 支持发布到 WordPress、支持 Metaweblog API 协议的服务、Wordpress.com、印象笔记（Evernote）、Blogger、Medium、Tumblr、语雀、Ghost、少数派 Matrix。
* 图片上传服务（图床）支持 Imgur、七牛云、又拍云、腾讯云 COS、阿里云 OSS、SM.MS和自定义的图床服务。

## Markdown 笔记：

* 强大的文档库支持分类树和标签管理文档，文档可归类于多个分类，可以把分类整个导出为 Epub、PDF 和生成静态网站。非常合适用于笔记、个人知识收集、管理和输出。
* 快速笔记：随意增加笔记及图片等素材，支持以天为单位把增加的素材组合在一个文档内，方便整理及记录历史收集情况。
* 快速搜索：目前已支持全局快捷键调出搜索。

## 外部 Markdown 文档：

* 外部 Markdown 文档使用外部模式管理。外部模式使用目录树的方式编辑和管理你的 Markdown 文档，还能很好的支持 GitBook、Jekyll、Hexo 等等编辑和图片插入。

## MWeb 文档：

如果要更详细了解 MWeb，建议你一定要去看一下官网的帮助文档，网址为：<https://zh.mweb.im/help.html>。我们建议在使用文档库之前，一定要阅读一下 [MWeb 文档库详细介绍](https://zh.mweb.im/mweb-library.html) 这篇文章，以便更好的使用文档库。

## 帮助我们改进 MWeb

如果你喜欢 MWeb，想让它变得更好，你可以：

1. 推荐 MWeb，让更多的人知道。
2. 给我们发反馈和建议：<coderforart+2333@gmail.com>
3. 在 Mac App Store 上评价 （如果是在 MAS 上购买的话）。

